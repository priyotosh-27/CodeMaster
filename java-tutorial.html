<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Java Tutorial - CodeMaster</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Prism.js for code highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>

  <style>
    /* --- Utilities used by this page (kept minimal) --- */
    .gradient-bg { background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 35%, #fdcb6e 70%, #fd79a8 100%); }
    .section-bg { background: linear-gradient(180deg, #f8fafc 0%, #fff 100%); }
    .rainbow-text { background: linear-gradient(90deg, #6c5ce7, #00b894, #fdcb6e, #fd79a8, #00b894, #6c5ce7); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; animation: rainbow 5s linear infinite; background-size: 200% 200%; }
    @keyframes rainbow { 0% {background-position: 0% 50%;} 100% {background-position: 100% 50%;} }

    .sidebar { position: sticky; top: 2rem; height: fit-content; background: linear-gradient(135deg, #6c5ce7 60%, #fdcb6e 100%); color: #fff; border-radius: 1.5rem; padding: 2rem 1.5rem; margin-bottom: 2rem; box-shadow: 0 8px 32px 0 rgba(99,102,241,0.10); }
    .sidebar a { display: block; padding: 0.6rem 1rem; margin-bottom: 0.5rem; border-radius: 9999px; color: #fff; font-weight: 600; text-decoration: none; transition: background 0.2s, color 0.2s; }
    .sidebar a.active, .sidebar a:hover { background: rgba(255,255,255,0.18); color: #fff; }

    .topic-section { margin-bottom: 3.5rem; border-radius: 1.5rem; box-shadow: 0 8px 32px 0 rgba(99,102,241,0.10); background: #fff; padding: 2rem; border-top: 6px solid; }
    .topic-section h2 { margin-bottom: 1rem; }

    .code-tabs { margin-top: 1rem; margin-bottom: 1.25rem; }
    .tab-btn { display: inline-block; padding: 0.5rem 1.2rem; margin-right: 0.5rem; border-radius: 9999px; background: #f3f4f6; color: #333; font-weight: 600; cursor: pointer; border: none; outline: none; transition: background 0.2s; }
    .tab-btn.active { background: #6c5ce7; color: #fff; }

    pre { border-radius: 0.75rem; overflow-x: auto; margin-bottom: 1rem; }
    .topic-section table { background: #f8fafc; border-radius: 0.75rem; box-shadow: 0 2px 8px 0 rgba(99,102,241,0.06); margin-bottom: 1rem; }
    .topic-section h3 { margin-top: 1.5rem; margin-bottom: 0.75rem; }
    .note { background: #eef2ff; border-left: 4px solid #6366f1; padding: 0.75rem 1rem; border-radius: 0.5rem; }
    .pro { background: #ecfeff; border-left: 4px solid #06b6d4; padding: 0.75rem 1rem; border-radius: 0.5rem; }
    .warn { background: #fff7ed; border-left: 4px solid #f59e0b; padding: 0.75rem 1rem; border-radius: 0.5rem; }
    .ok { background: #ecfdf5; border-left: 4px solid #10b981; padding: 0.75rem 1rem; border-radius: 0.5rem; }
    .chip { display:inline-block; padding: .25rem .6rem; border-radius:999px; background:#f3f4f6; margin-right:.4rem; font-weight:600; font-size:.8rem; }
    

    @media (max-width: 1024px) { .sidebar { position: static; margin-bottom: 2rem; } }
  </style>
</head>
<body class="min-h-screen section-bg">

  <!-- Navbar -->
  <nav class="gradient-bg text-white shadow-lg">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <i class="fas fa-mug-hot text-2xl"></i>
        <span class="text-xl font-bold"> CodeMaster</span>
      </div>
      <a href="index.html" class="hover:text-gray-200 font-semibold flex items-center">
        <i class="fas fa-arrow-left mr-2"></i>Back to Home
      </a>
    </div>
  </nav>

  <header class="py-12 bg-gradient-to-r from-indigo-500 via-pink-500 to-yellow-400 text-white shadow-xl">
    <div class="container mx-auto px-4 text-center">
      <h1 class="text-5xl font-extrabold mb-4 rainbow-text">Java Mastery Guide</h1>
      <p class="text-xl mb-6 font-medium">Crystal-clear theory, modern best practices, and production-grade examples.<br>Built to take you from beginner to expert.</p>
      <div class="flex flex-wrap gap-2 justify-center">
        <span class="chip">Java 8 → 21+</span>
        <span class="chip">OOP</span>
        <span class="chip">Generics</span>
        <span class="chip">Streams</span>
        <span class="chip">Concurrency</span>
        <span class="chip">JVM & GC</span>
        <span class="chip">Records & Sealed</span>
        <span class="chip">HTTP Client</span>
        <span class="chip">Security</span>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-4 py-12 flex flex-col lg:flex-row gap-8">
    <!-- Sidebar Navigation -->
    <aside class="sidebar w-full lg:w-1/4">
      <div class="mb-4 text-xl font-bold">Topics</div>
      <a href="#intro" class="sidebar-link"><i class="fas fa-lightbulb mr-2"></i>Intro & Tooling</a>
      <a href="#syntax" class="sidebar-link"><i class="fas fa-code mr-2"></i>Syntax & Program Structure</a>
      <a href="#types" class="sidebar-link"><i class="fas fa-shapes mr-2"></i>Types & Variables</a>
      <a href="#operators" class="sidebar-link"><i class="fas fa-equals mr-2"></i>Operators & Control Flow</a>
      <a href="#methods" class="sidebar-link"><i class="fas fa-cubes mr-2"></i>Methods & Parameters</a>
      <a href="#oop" class="sidebar-link"><i class="fas fa-diagram-project mr-2"></i>OOP Core</a>
      <a href="#classes" class="sidebar-link"><i class="fas fa-cube mr-2"></i>Classes, Records, Sealed</a>
      <a href="#generics" class="sidebar-link"><i class="fas fa-angle-double-right mr-2"></i>Generics</a>
      <a href="#collections" class="sidebar-link"><i class="fas fa-layer-group mr-2"></i>Collections Framework</a>
      <a href="#streams" class="sidebar-link"><i class="fas fa-water mr-2"></i>Streams & Lambdas</a>
      <a href="#exceptions" class="sidebar-link"><i class="fas fa-triangle-exclamation mr-2"></i>Exceptions</a>
      <a href="#io" class="sidebar-link"><i class="fas fa-file-lines mr-2"></i>I/O & NIO.2</a>
      <a href="#concurrency" class="sidebar-link"><i class="fas fa-bolt mr-2"></i>Concurrency & Virtual Threads</a>
      <a href="#jvm" class="sidebar-link"><i class="fas fa-microchip mr-2"></i>JVM Internals & GC</a>
      <a href="#modules" class="sidebar-link"><i class="fas fa-puzzle-piece mr-2"></i>Modules & Classloading</a>
      <a href="#time" class="sidebar-link"><i class="fas fa-clock mr-2"></i>Date & Time</a>
      <a href="#network" class="sidebar-link"><i class="fas fa-network-wired mr-2"></i>Networking & HTTP</a>
      <a href="#jdbc" class="sidebar-link"><i class="fas fa-database mr-2"></i>JDBC</a>
      <a href="#reflection" class="sidebar-link"><i class="fas fa-magnifying-glass mr-2"></i>Reflection & Annotations</a>
      <a href="#security" class="sidebar-link"><i class="fas fa-shield-halved mr-2"></i>Security & Crypto</a>
      <a href="#testing" class="sidebar-link"><i class="fas fa-vial mr-2"></i>Testing (JUnit 5)</a>
      <a href="#build" class="sidebar-link"><i class="fas fa-hammer mr-2"></i>Build & Packaging</a>
      <a href="#perf" class="sidebar-link"><i class="fas fa-gauge-high mr-2"></i>Performance & Tuning</a>
      <a href="#cheats" class="sidebar-link"><i class="fas fa-list-check mr-2"></i>Cheat Sheets</a>
    </aside>

    <!-- Content -->
    <section class="w-full lg:w-3/4">

      <!-- INTRO -->
      <div id="intro" class="topic-section" style="border-top-color:#6c5ce7">
        <h2 class="text-3xl font-bold">Intro & Tooling</h2>
        <p class="text-gray-700">Java is a compiled, garbage-collected, strongly-typed, object-oriented language that runs on the JVM (Java Virtual Machine). Write once, run anywhere — thanks to bytecode portability. In modern Java (8→21+), you get lambdas, streams, records, sealed types, pattern matching, switch expressions, text blocks, and virtual threads.</p>
        <div class="grid md:grid-cols-2 gap-4 mt-4">
          <div class="ok">
            <strong>Install:</strong> Use the latest LTS (Java 21+) from a vendor like Eclipse Temurin or Oracle. Verify with <code>java -version</code> and <code>javac -version</code>.
          </div>
          <div class="pro">
            <strong>IDE:</strong> IntelliJ IDEA (Community/Ultimate) or VS Code with Java extensions. Enable code inspections and formatting.
          </div>
        </div>
        <h3 class="text-2xl font-semibold">Your First Program</h3>
        <div class="code-tabs">
          <button class="tab-btn active" data-tab="intro-java">Java</button>
        </div>
        <pre id="intro-java" class="tab-content language-java"><code class="language-java">public class Hello {
  public static void main(String[] args) {
    System.out.println("Hello, Java!");
  }
}
// Compile: javac Hello.java
// Run:     java Hello</code></pre>
        <div class="note">Java source (<code>.java</code>) compiles to bytecode (<code>.class</code>). The JVM loads bytecode, optionally JIT-compiles hot methods to native code, and executes.</div>
      </div>

      <!-- SYNTAX -->
      <div id="syntax" class="topic-section" style="border-top-color:#00b894">
        <h2 class="text-3xl font-bold">Syntax & Program Structure</h2>
        <p>Every Java application starts at <code>public static void main(String[] args)</code>. Source files contain at most one <code>public</code> top-level class with the same filename. Since Java 11, you can also run single-file source-code programs directly: <code>java Hello.java</code>.</p>
        <h3>Packages & Imports</h3>
        <pre class="language-java"><code>package com.codemaster.tutorial; // must be first non-comment line

import java.util.*; // import types

public class App { /* ... */ }
</code></pre>
        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <h3>Access Modifiers</h3>
            <table class="w-full text-left">
              <thead><tr class="bg-gray-100"><th class="p-2">Modifier</th><th class="p-2">Class</th><th class="p-2">Package</th><th class="p-2">Subclass</th><th class="p-2">World</th></tr></thead>
              <tbody>
                <tr><td class="p-2">public</td><td class="p-2">✔</td><td class="p-2">✔</td><td class="p-2">✔</td><td class="p-2">✔</td></tr>
                <tr><td class="p-2">protected</td><td class="p-2">✔</td><td class="p-2">✔</td><td class="p-2">✔</td><td class="p-2">✖</td></tr>
                <tr><td class="p-2">(package-private)</td><td class="p-2">✔</td><td class="p-2">✔</td><td class="p-2">✖</td><td class="p-2">✖</td></tr>
                <tr><td class="p-2">private</td><td class="p-2">✔</td><td class="p-2">✖</td><td class="p-2">✖</td><td class="p-2">✖</td></tr>
              </tbody>
            </table>
          </div>
          <div>
            <h3>Keywords You’ll Meet Early</h3>
            <p><code>class</code>, <code>interface</code>, <code>enum</code>, <code>extends</code>, <code>implements</code>, <code>static</code>, <code>final</code>, <code>abstract</code>, <code>super</code>, <code>this</code>.</p>
          </div>
        </div>
      </div>

      <!-- TYPES -->
      <div id="types" class="topic-section" style="border-top-color:#fdcb6e">
        <h2 class="text-3xl font-bold">Types & Variables</h2>
        <p>Java has <strong>primitive</strong> types (stored by value) and <strong>reference</strong> types (objects/arrays). Primitives live on the stack or within objects; references point to heap objects.</p>
        <h3>Primitives</h3>
        <table class="w-full text-left">
          <thead><tr class="bg-gray-100"><th class="p-2">Type</th><th class="p-2">Bits</th><th class="p-2">Range/Notes</th></tr></thead>
          <tbody>
            <tr><td class="p-2">byte</td><td class="p-2">8</td><td class="p-2">-128..127</td></tr>
            <tr><td class="p-2">short</td><td class="p-2">16</td><td class="p-2">-32,768..32,767</td></tr>
            <tr><td class="p-2">int</td><td class="p-2">32</td><td class="p-2">~±2.1B</td></tr>
            <tr><td class="p-2">long</td><td class="p-2">64</td><td class="p-2">~±9.22e18 (suffix <code>L</code>)</td></tr>
            <tr><td class="p-2">float</td><td class="p-2">32</td><td class="p-2">IEEE 754 (suffix <code>f</code>)</td></tr>
            <tr><td class="p-2">double</td><td class="p-2">64</td><td class="p-2">IEEE 754 (default)</td></tr>
            <tr><td class="p-2">char</td><td class="p-2">16</td><td class="p-2">UTF-16 code unit</td></tr>
            <tr><td class="p-2">boolean</td><td class="p-2">JVM dependent</td><td class="p-2">true/false</td></tr>
          </tbody>
        </table>
        <div class="warn">Use <code>BigInteger</code> / <code>BigDecimal</code> for precise big numbers (money, crypto).</div>
        <h3>Reference Types</h3>
        <pre class="language-java"><code>String s = "Hello";        // immutable
int[] a = {1,2,3};          // array
List&lt;String&gt; list = new ArrayList<>(); // object on heap</code></pre>
        <h3>Type Inference (var)</h3>
        <pre class="language-java"><code>var map = new HashMap&lt;String, Integer&gt;(); // local inference (Java 10+)</code></pre>
      </div>

      <!-- OPERATORS & CONTROL FLOW -->
      <div id="operators" class="topic-section" style="border-top-color:#fd79a8">
        <h2 class="text-3xl font-bold">Operators & Control Flow</h2>
        <p>Standard arithmetic, logical, and bitwise operators apply. Short-circuiting operators <code>&&</code> and <code>||</code> evaluate lazily. Ternary <code>?:</code> returns a value.</p>
        <h3>If/Else, Loops, Switch</h3>
        <pre class="language-java"><code>for (int i = 0; i &lt; 3; i++) {}
while (condition) {}
do { } while (condition);

// Switch expression (Java 14+)
int score = 95;
String grade = switch (score/10) {
  case 10,9 -> "A";
  case 8 -> "B";
  case 7 -> "C";
  case 6 -> "D";
  default -> "F";
};</code></pre>
        <div class="note">Enhanced switch is an expression and can <em>yield</em> a value. Use arrows, not fall-through.</div>
      </div>

      <!-- METHODS -->
      <div id="methods" class="topic-section" style="border-top-color:#00bcd4">
        <h2 class="text-3xl font-bold">Methods & Parameters</h2>
        <p>Java passes arguments by value. For objects, the <em>reference</em> is copied, so method can mutate the object but not rebind caller’s reference.</p>
        <pre class="language-java"><code>class Box { int v; }

static void set(Box b, int x) { b.v = x; }
static void rebind(Box b) { b = new Box(); b.v = 99; }

public static void main(String[] args) {
  Box b = new Box();
  set(b, 7);          // b.v == 7
  rebind(b);          // caller still points to original box (not 99)
}</code></pre>
        <h3>Overloading, Varargs, Optional-like</h3>
        <pre class="language-java"><code>int sum(int a, int b) { return a + b; }
int sum(int a, int b, int c) { return a + b + c; }  // overload
int sum(int... xs) { return Arrays.stream(xs).sum(); } // varargs
Optional&lt;String&gt; maybe = Optional.of("value");</code></pre>
      </div>

      <!-- OOP CORE -->
      <div id="oop" class="topic-section" style="border-top-color:#8e44ad">
        <h2 class="text-3xl font-bold">OOP Core</h2>
        <p>Java’s OOP pillars: <strong>Encapsulation</strong> (hide internals), <strong>Abstraction</strong> (focus on essentials), <strong>Inheritance</strong> (is-a), and <strong>Polymorphism</strong> (many forms via dynamic dispatch).</p>
        <pre class="language-java"><code>abstract class Shape { abstract double area(); }
class Circle extends Shape {
  private final double r;
  Circle(double r) { this.r = r; }
  @Override double area() { return Math.PI * r * r; }
}
class Rect extends Shape {
  private final double w,h; Rect(double w,double h){this.w=w;this.h=h;}
  @Override double area() { return w*h; }
}

// Polymorphism in action
List&lt;Shape&gt; shapes = List.of(new Circle(2), new Rect(3,4));
double total = shapes.stream().mapToDouble(Shape::area).sum();</code></pre>
        <div class="warn">Favor composition over inheritance. Keep classes small, cohesive, and immutable where possible.</div>
      </div>

      <!-- CLASSES, RECORDS, SEALED -->
      <div id="classes" class="topic-section" style="border-top-color:#2ecc71">
        <h2 class="text-3xl font-bold">Classes, Records, Sealed Types</h2>
        <h3>Classes & Immutability</h3>
        <pre class="language-java"><code>public final class Money {
  private final long cents;
  private Money(long cents) { this.cents = cents; }
  public static Money of(long cents) { return new Money(cents); }
  public Money add(Money other) { return new Money(this.cents + other.cents); }
  public long cents() { return cents; }
}</code></pre>
        <h3>Records (Java 16+)</h3>
        <pre class="language-java"><code>public record Point(int x, int y) { }
Point p = new Point(3,4);
int x = p.x(); // accessor</code></pre>
        <h3>Sealed Hierarchies (Java 17+)</h3>
        <pre class="language-java"><code>sealed interface Expr permits Lit, Add { }
record Lit(int v) implements Expr { }
record Add(Expr a, Expr b) implements Expr { }

static int eval(Expr e) {
  return switch (e) {
    case Lit(int v) -> v;            // pattern switch
    case Add(var a, var b) -> eval(a) + eval(b);
  };
}</code></pre>
      </div>

      <!-- GENERICS -->
      <div id="generics" class="topic-section" style="border-top-color:#1abc9c">
        <h2 class="text-3xl font-bold">Generics</h2>
        <p>Generics enable type-safe collections and APIs. Java uses <em>type erasure</em> at runtime; generic type info is mostly compile-time only.</p>
        <h3>Basics & Wildcards</h3>
        <pre class="language-java"><code>List&lt;String&gt; names = new ArrayList<>();

// PECS: Producer Extends, Consumer Super
void copyAll(List&lt;? extends Number&gt; src, List&lt;? super Number&gt; dst) {
  for (Number n : src) dst.add(n);
}

// Bounded type parameters
typedef interface Repo&lt;T extends Entity&gt; { T findById(String id); }</code></pre>
        <div class="note">You cannot create <code>new T[]</code> or <code>new ArrayList&lt;T&gt;()</code> with a type variable directly; use factories or pass <code>Class&lt;T&gt;</code>.</div>
      </div>

      <!-- COLLECTIONS -->
      <div id="collections" class="topic-section" style="border-top-color:#3498db">
        <h2 class="text-3xl font-bold">Collections Framework</h2>
        <p>Core interfaces: <code>Collection</code>, <code>List</code>, <code>Set</code>, <code>Map</code>, <code>Queue</code>, and their concurrent variants. Choose by access pattern and constraints.</p>
        <h3>Choosing the Right Collection</h3>
        <table class="w-full text-left">
          <thead><tr class="bg-gray-100"><th class="p-2">Type</th><th class="p-2">Impl</th><th class="p-2">Strengths</th><th class="p-2">Notes</th></tr></thead>
          <tbody>
            <tr><td class="p-2">List</td><td class="p-2">ArrayList</td><td class="p-2">Fast random access</td><td class="p-2">Amortized append O(1)</td></tr>
            <tr><td class="p-2">List</td><td class="p-2">LinkedList</td><td class="p-2">Frequent head/tail ops</td><td class="p-2">Poor random access</td></tr>
            <tr><td class="p-2">Set</td><td class="p-2">HashSet</td><td class="p-2">O(1) average ops</td><td class="p-2">Needs good <code>hashCode</code></td></tr>
            <tr><td class="p-2">Set</td><td class="p-2">TreeSet</td><td class="p-2">Sorted</td><td class="p-2">O(log n)</td></tr>
            <tr><td class="p-2">Map</td><td class="p-2">HashMap</td><td class="p-2">General purpose</td><td class="p-2">Keys must be stable</td></tr>
            <tr><td class="p-2">Map</td><td class="p-2">LinkedHashMap</td><td class="p-2">Predictable iteration</td><td class="p-2">LRU via access-order</td></tr>
            <tr><td class="p-2">Map</td><td class="p-2">TreeMap</td><td class="p-2">Sorted keys</td><td class="p-2">Range queries</td></tr>
            <tr><td class="p-2">Concurrent</td><td class="p-2">ConcurrentHashMap</td><td class="p-2">High concurrency</td><td class="p-2">Segmented locking</td></tr>
          </tbody>
        </table>
        <pre class="language-java"><code>// Equals & hashCode contract for map/set keys
final class User {
  private final String id;
  private final String name;
  User(String id, String name) { this.id=id; this.name=name; }
  @Override public boolean equals(Object o) {
    if (this == o) return true;
    if (!(o instanceof User u)) return false;
    return Objects.equals(id, u.id);
  }
  @Override public int hashCode() { return Objects.hash(id); }
}</code></pre>
      </div>

      <!-- STREAMS & LAMBDAS -->
      <div id="streams" class="topic-section" style="border-top-color:#9b59b6">
        <h2 class="text-3xl font-bold">Streams & Lambdas</h2>
        <p>Streams provide functional-style processing over sequences. Distinguish <em>intermediate</em> (map/filter) vs <em>terminal</em> (collect, reduce) operations. Streams are lazy.</p>
        <pre class="language-java"><code>List&lt;String&gt; names = List.of("Ada","Bob","Chen","Diya");
Map&lt;Integer, List&lt;String&gt;&gt; byLen = names.stream()
    .filter(n -&gt; n.compareTo("C") &gt; 0)
    .map(String::toUpperCase)
    .collect(Collectors.groupingBy(String::length));

// Reduce
int sum = IntStream.rangeClosed(1, 100).reduce(0, Integer::sum);

// Parallel streams (use sparingly for CPU-bound, large data)
long count = names.parallelStream().count();</code></pre>
        <div class="warn">Do not use parallel streams for IO-bound tasks. Prefer <code>CompletableFuture</code> or virtual threads.</div>
      </div>

      <!-- EXCEPTIONS -->
      <div id="exceptions" class="topic-section" style="border-top-color:#e74c3c">
        <h2 class="text-3xl font-bold">Exceptions</h2>
        <p>Checked exceptions (<code>Exception</code>) must be declared/handled. Unchecked (<code>RuntimeException</code>) represent programming errors or unrecoverable states.</p>
        <pre class="language-java"><code>try (var reader = Files.newBufferedReader(Path.of("data.txt"))) {
  String line = reader.readLine();
} catch (IOException e) {
  // handle or rethrow
}

// Wrapping checked into unchecked for boundary layers
try { doIO(); } catch (IOException e) { throw new UncheckedIOException(e); }</code></pre>
        <div class="note">Try-with-resources automatically closes resources that implement <code>AutoCloseable</code>.</div>
      </div>

      <!-- IO & NIO -->
      <div id="io" class="topic-section" style="border-top-color:#34495e">
        <h2 class="text-3xl font-bold">I/O & NIO.2</h2>
        <p>Prefer <code>java.nio.file.Files</code> and <code>Path</code> APIs (NIO.2). They offer efficient bulk operations and better error handling.</p>
        <pre class="language-java"><code>// Read all lines
List&lt;String&gt; lines = Files.readAllLines(Path.of("notes.txt"));

// Stream lines lazily
try (Stream&lt;String&gt; s = Files.lines(Path.of("big.log"))) {
  long errors = s.filter(l -&gt; l.contains("ERROR")).count();
}

// Walk directory
try (Stream&lt;Path&gt; paths = Files.walk(Path.of("src"))) {
  paths.filter(p -&gt; p.toString().endsWith(".java")).forEach(System.out::println);
}</code></pre>
      </div>

      <!-- CONCURRENCY -->
      <div id="concurrency" class="topic-section" style="border-top-color:#f39c12">
        <h2 class="text-3xl font-bold">Concurrency & Virtual Threads</h2>
        <p>Java offers threads, locks, executors, futures, and since Java 21, <strong>virtual threads</strong> (Project Loom) for lightweight concurrency.</p>
        <h3>Threading Foundations</h3>
        <pre class="language-java"><code>// Intrinsic lock (synchronized)
class Counter { private int n; synchronized void inc() { n++; } int get(){return n;} }

// ReentrantLock
Lock lock = new ReentrantLock();
lock.lock();
try { /* critical section */ } finally { lock.unlock(); }

// Atomic
AtomicInteger ai = new AtomicInteger(); ai.incrementAndGet();

// CompletableFuture
CompletableFuture&lt;String&gt; f = CompletableFuture.supplyAsync(() -&gt; fetch());
String result = f.thenApply(String::toUpperCase).join();</code></pre>
        <h3>Virtual Threads (Java 21+)</h3>
        <pre class="language-java"><code>ExecutorService exec = Executors.newVirtualThreadPerTaskExecutor();
try (exec) {
  List&lt;Future&lt;String&gt;&gt; futures = IntStream.range(0, 10)
    .mapToObj(i -&gt; exec.submit(() -&gt; httpCall(i)))
    .toList();
  for (Future&lt;String&gt; fut : futures) System.out.println(fut.get());
}</code></pre>
        <div class="ok">Virtual threads make blocking IO cheap and massively scalable. Use platform threads for CPU-bound pools, virtual for IO-bound tasks.</div>
        <h3>Visibility & the Java Memory Model</h3>
        <pre class="language-java"><code>volatile boolean running = true;
void stop() { running = false; }  // writes to volatile are visible across threads
</code></pre>
      </div>

      <!-- JVM & GC -->
      <div id="jvm" class="topic-section" style="border-top-color:#2c3e50">
        <h2 class="text-3xl font-bold">JVM Internals & Garbage Collection</h2>
        <p>The JVM loads classes, verifies bytecode, manages memory (heap + stacks), and JIT compiles hot methods. Modern collectors: G1 (default), ZGC, Shenandoah. Choose based on latency/throughput needs.</p>
        <h3>Memory Areas</h3>
        <ul class="list-disc pl-6 text-gray-700">
          <li><strong>Heap:</strong> Objects and arrays.</li>
          <li><strong>Thread Stacks:</strong> Frames for method calls and local variables.</li>
          <li><strong>Metaspace:</strong> Class metadata.</li>
          <li><strong>Code Cache:</strong> JIT compiled code.</li>
        </ul>
        <h3>GC Tuning Quick Tips</h3>
        <div class="pro">
          Prefer G1 for most server apps. For ultra-low-latency, try ZGC (<code>-XX:+UseZGC</code>). Always measure with <code>-Xlog:gc*</code> and realistic workloads.
        </div>
      </div>

      <!-- MODULES & CLASSLOADING -->
      <div id="modules" class="topic-section" style="border-top-color:#27ae60">
        <h2 class="text-3xl font-bold">Modules & Classloading</h2>
        <p>Java Platform Module System (JPMS) introduces <code>module-info.java</code> for strong encapsulation.</p>
        <pre class="language-java"><code>// module-info.java
module com.codemaster.app {
  requires java.sql;
  exports com.codemaster.api;
}
</code></pre>
        <div class="note">Classloaders load classes from jars/paths. Parent-first delegation prevents conflicts. Use the <code>ServiceLoader</code> for pluggable architectures.</div>
      </div>

      <!-- DATE & TIME -->
      <div id="time" class="topic-section" style="border-top-color:#16a085">
        <h2 class="text-3xl font-bold">Date & Time (java.time)</h2>
        <pre class="language-java"><code>ZonedDateTime nowInKolkata = ZonedDateTime.now(ZoneId.of("Asia/Kolkata"));
LocalDate d = LocalDate.of(2025, 8, 13);
Period age = Period.between(LocalDate.of(2000,1,1), LocalDate.now());
String iso = DateTimeFormatter.ISO_OFFSET_DATE_TIME.format(OffsetDateTime.now());</code></pre>
        <div class="ok">Avoid <code>java.util.Date</code>/<code>Calendar</code>. Use immutable, thread-safe <code>java.time</code> types.</div>
      </div>

      <!-- NETWORKING & HTTP -->
      <div id="network" class="topic-section" style="border-top-color:#2980b9">
        <h2 class="text-3xl font-bold">Networking & HTTP</h2>
        <h3>HTTP Client (Java 11+)</h3>
        <pre class="language-java"><code>HttpClient client = HttpClient.newHttpClient();
HttpRequest req = HttpRequest.newBuilder(URI.create("https://api.example.com"))
  .header("Accept","application/json").build();
HttpResponse&lt;String&gt; res = client.send(req, HttpResponse.BodyHandlers.ofString());
System.out.println(res.statusCode());
</code></pre>
        <h3>Sockets</h3>
        <pre class="language-java"><code>try (var socket = new Socket("example.com", 80);
     var out = new PrintWriter(socket.getOutputStream());
     var in = new BufferedReader(new InputStreamReader(socket.getInputStream()))) {
  out.println("GET / HTTP/1.1\r\nHost: example.com\r\n\r\n");
  out.flush();
  System.out.println(in.readLine());
}</code></pre>
      </div>

      <!-- JDBC -->
      <div id="jdbc" class="topic-section" style="border-top-color:#8e44ad">
        <h2 class="text-3xl font-bold">JDBC</h2>
        <pre class="language-java"><code>String url = "jdbc:postgresql://localhost:5432/app";
try (Connection c = DriverManager.getConnection(url, "user", "pass");
     PreparedStatement ps = c.prepareStatement("select id,name from users where id=?")) {
  ps.setInt(1, 42);
  try (ResultSet rs = ps.executeQuery()) {
    if (rs.next()) {
      System.out.println(rs.getString("name"));
    }
  }
}</code></pre>
        <div class="warn">Always use prepared statements to prevent SQL injection. Manage transactions with <code>setAutoCommit(false)</code>, <code>commit()</code>, <code>rollback()</code>.</div>
      </div>

      <!-- REFLECTION & ANNOTATIONS -->
      <div id="reflection" class="topic-section" style="border-top-color:#d35400">
        <h2 class="text-3xl font-bold">Reflection & Annotations</h2>
        <pre class="language-java"><code>@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.TYPE)
@interface Component { String value(); }

@Component("service")
class S {}

Class&lt;S&gt; c = S.class;
boolean present = c.isAnnotationPresent(Component.class);
for (Method m : c.getDeclaredMethods()) { /* inspect */ }
</code></pre>
        <div class="note">Reflection is powerful but slower and less safe. Prefer explicit code or dependency injection frameworks when appropriate.</div>
      </div>

      <!-- SECURITY & CRYPTO -->
      <div id="security" class="topic-section" style="border-top-color:#c0392b">
        <h2 class="text-3xl font-bold">Security & Cryptography</h2>
        <pre class="language-java"><code>// Secure random
byte[] nonce = new byte[12];
SecureRandom.getInstanceStrong().nextBytes(nonce);

// Message digest
MessageDigest md = MessageDigest.getInstance("SHA-256");
byte[] hash = md.digest("hello".getBytes(StandardCharsets.UTF_8));

// AES-GCM
Cipher cipher = Cipher.getInstance("AES/GCM/NoPadding");
SecretKey key = KeyGenerator.getInstance("AES").generateKey();
GCMParameterSpec spec = new GCMParameterSpec(128, nonce);
cipher.init(Cipher.ENCRYPT_MODE, key, spec);
byte[] ct = cipher.doFinal("secret".getBytes(StandardCharsets.UTF_8));
</code></pre>
        <div class="warn">Never roll your own crypto. Use strong algorithms (AES-GCM, RSA/ECDSA for signatures) and keep keys safe (e.g., JCEKS, cloud KMS).</div>
      </div>

      <!-- TESTING -->
      <div id="testing" class="topic-section" style="border-top-color:#7f8c8d">
        <h2 class="text-3xl font-bold">Testing (JUnit 5)</h2>
        <pre class="language-java"><code>import static org.junit.jupiter.api.Assertions.*;
import org.junit.jupiter.api.*;

class CalcTest {
  @Test void adds() { assertEquals(5, 2 + 3); }
  @ParameterizedTest
  @ValueSource(strings = {"madam","racecar"})
  void palindromes(String s) { assertEquals(s, new StringBuilder(s).reverse().toString()); }
}
</code></pre>
        <div class="ok">Use mocks (Mockito) for collaborators and test behavior at boundaries. Keep tests fast and deterministic.</div>
      </div>

      <!-- BUILD & PACKAGING -->
      <div id="build" class="topic-section" style="border-top-color:#6366f1">
        <h2 class="text-3xl font-bold">Build & Packaging</h2>
        <h3>CLI</h3>
        <pre class="language-java"><code>// Compile multiple files
javac -d out $(find src -name "*.java")
// Run
java -cp out com.codemaster.app.Main
// Create JAR
jar --create --file app.jar -C out .
// Run JAR with Main-Class in MANIFEST.MF
java -jar app.jar</code></pre>
        <h3>Maven (pom.xml)</h3>
        <pre class="language-xml"><code>&lt;project&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;com.codemaster&lt;/groupId&gt;
  &lt;artifactId&gt;app&lt;/artifactId&gt;
  &lt;version&gt;1.0.0&lt;/version&gt;
  &lt;properties&gt;&lt;maven.compiler.release&gt;21&lt;/maven.compiler.release&gt;&lt;/properties&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;&lt;version&gt;5.10.2&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;</code></pre>
        <h3>Gradle (build.gradle.kts)</h3>
        <pre class="language-kotlin"><code>plugins { application; java }
java { toolchain { languageVersion.set(JavaLanguageVersion.of(21)) } }
dependencies { testImplementation("org.junit.jupiter:junit-jupiter:5.10.2") }
application { mainClass.set("com.codemaster.app.Main") }
tasks.test { useJUnitPlatform() }</code></pre>
      </div>

      <!-- PERFORMANCE & TUNING -->
      <div id="perf" class="topic-section" style="border-top-color:#10b981">
        <h2 class="text-3xl font-bold">Performance & Tuning</h2>
        <ul class="list-disc pl-6 text-gray-700">
          <li>Measure before optimizing. Use JFR (Java Flight Recorder) and JMC (Mission Control).</li>
          <li>Use microbenchmarks with JMH; avoid naive <code>System.nanoTime()</code> loops.</li>
          <li>Minimize allocations on hot paths; prefer primitives and immutable objects wisely.</li>
          <li>Choose the right collector (G1/ZGC) and size heap appropriately.</li>
        </ul>
        <pre class="language-java"><code>@State(Scope.Thread)
public class Bench {
  private final List&lt;Integer&gt; data = IntStream.range(0, 1_000).boxed().toList();
  @Benchmark public long sum() { return data.stream().mapToLong(i -&gt; i).sum(); }
}</code></pre>
      </div>

      <!-- CHEAT SHEETS -->
      <div id="cheats" class="topic-section" style="border-top-color:#ff6b6b">
        <h2 class="text-3xl font-bold">Cheat Sheets</h2>
        <h3>Common Annotations</h3>
        <p><code>@Override</code>, <code>@FunctionalInterface</code>, <code>@Deprecated</code>, <code>@Nullable</code>/<code>@NotNull</code> (from libs), <code>@Test</code>, <code>@BeforeEach</code>, <code>@AfterEach</code>.</p>
        <h3>Useful APIs</h3>
        <p><code>Objects.requireNonNull</code>, <code>List.of</code>/<code>Map.of</code>, <code>Pattern</code>/<code>Matcher</code>, <code>Files</code>, <code>Paths</code>, <code>Collectors</code>, <code>Optional</code>.</p>
        <h3>Error Handling Rules</h3>
        <ul class="list-disc pl-6 text-gray-700">
          <li>Catch at boundaries, not everywhere.</li>
          <li>Prefer meaningful custom unchecked exceptions for domain errors.</li>
          <li>Always include context in messages.</li>
        </ul>
      </div>

    </section>
  </main>

  <footer class="gradient-bg text-white py-8 mt-12">
    <div class="container mx-auto px-4 text-center">
      <div class="mb-2 text-lg font-bold">CodeMaster</div>
      <div>Master Java with comprehensive, modern content and real-world examples.</div>
      <div class="mt-2 text-sm opacity-80">© 2025 CodeMaster. All rights reserved.</div>
    </div>
  </footer>

  <script>
    // Tab switching for code samples
    document.querySelectorAll('.code-tabs').forEach(tabGroup => {
      const btns = tabGroup.querySelectorAll('.tab-btn');
      btns.forEach(btn => {
        btn.addEventListener('click', () => {
          btns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          const tabId = btn.getAttribute('data-tab');
          tabGroup.parentElement.querySelectorAll('.tab-content').forEach(tc => {
            tc.classList.add('hidden');
          });
          tabGroup.parentElement.querySelector('#' + tabId).classList.remove('hidden');
        });
      });
    });

    // Sidebar active link highlight
    function setActiveSidebarLink() {
      const links = document.querySelectorAll('.sidebar a');
      let fromTop = window.scrollY + 120;
      let currentId = '';
      document.querySelectorAll('.topic-section').forEach(section => {
        if (section.offsetTop <= fromTop) {
          currentId = section.id;
        }
      });
      links.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + currentId) {
          link.classList.add('active');
        }
      });
    }
    window.addEventListener('scroll', setActiveSidebarLink);
    window.addEventListener('DOMContentLoaded', setActiveSidebarLink);

    // Dry run toggling function (available for future examples)
    function toggleDryRun(id) { const el = document.getElementById(id); if (el) el.classList.toggle('hidden'); }
  </script>
</body>
</html>
